import { SEASONS } from "@rrrcn/common-types/services/api/migrations/generate-tracks/config";
import { IMapSpecies } from "@rrrcn/admin/src/core/vulnerability-map/entities/species";
import { GeneratedTrack } from "@rrrcn/common-types/services/api/migrations/generate-tracks/response";
import { IMapSpatialGridCell } from "@rrrcn/admin/src/core/vulnerability-map/entities/spatial-grid";

export abstract class IMapMigration<IdType> {
  abstract get id(): IdType;
  abstract get season(): SEASONS;
  abstract get speciesId(): IdType;
  abstract get spatialGridId(): IdType;
  abstract get species(): IMapSpecies<IdType>;
  abstract get tracksCount(): number;
  abstract getCellTrackDensitiesPerMonth(
    cell: IMapSpatialGridCell<IdType>
  ): number[];
  abstract getCellPercentAtRotorHeight(
    cell: IMapSpatialGridCell<IdType>,
    rotor: { start: number; end: number }
  ): number;
  abstract getCellBirdDensitiesPerMonth(
    cell: IMapSpatialGridCell<IdType>
  ): number[];
  // abstract getAreaBirdDensitiesPerMonth(area: CommonArea): number[];
  abstract getCellFlightHeightsDistribution(
    cell: IMapSpatialGridCell<IdType>
  ): [number, number][];
  abstract get generatedTracks(): GeneratedTrack[];
}
