import { IMapHabitatArea } from "@rrrcn/admin/src/core/vulnerability-map/entities/habitat-area";
import {
  VulnerabilityMapHabitatAreaShort,
  VulnerabilityMapMigrationShort,
  VulnerabilityMapSensitiveAreas,
} from "@rrrcn/common-types/admin/api/vulnerability-map/entities/spatial-grid";
import { IMapMigration } from "@rrrcn/admin/src/core/vulnerability-map/entities/migrations";
import { IMapSensitiveArea } from "@rrrcn/admin/src/core/vulnerability-map/entities/sensitive-areas";

export class MapVulnerabilityMapDataMapper {
  public mapHabitatAreaShort(
    habitatArea: IMapHabitatArea<string>
  ): VulnerabilityMapHabitatAreaShort {
    return {
      id: habitatArea.id,
      species: {
        id: habitatArea.species.id,
        name: habitatArea.species.name,
      },
    };
  }

  public mapMigrationShort(
    migration: IMapMigration<string>
  ): VulnerabilityMapMigrationShort {
    return {
      id: migration.id,
      season: migration.season,
      species: migration.species,
    };
  }

  public mapSensitiveAreaShort(
    sensitiveArea: IMapSensitiveArea<string>
  ): VulnerabilityMapSensitiveAreas {
    return {
      id: sensitiveArea.id,
      title: sensitiveArea.title,
      geojson: sensitiveArea.area.polygon,
    };
  }
}
